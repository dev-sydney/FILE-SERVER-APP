import{r as t,a as u,u as m,j as e,U as h,L as x}from"./index-977f2f1c.js";/* empty css                   */const g=()=>{const o=t.useContext(u),l=t.useContext(m),[i,d]=t.useState({}),[c,n]=t.useState(!1);t.useEffect(()=>{l.setNavBarVisibilty(!0)},[]);const r=a=>{d({...i,[a.target.name]:a.target.value})},p=a=>{a.preventDefault(),n(!0),fetch("/api/v1/users/password-update",{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(i)}).then(s=>s.json()).then(s=>{if(s.status==="success")n(!1),o.setAlert(s.message,"Well done!");else throw n(!1),new Error(s.message)}).catch(s=>o.setAlert(s.message,"Something went wrong"))};return e.jsxs("div",{className:"update-password-page",children:[e.jsx("h1",{style:{textAlign:"left",margin:"1em 2em"},children:"Security settings"}),e.jsxs("form",{onSubmit:p,className:"update-password-form",children:[e.jsxs("div",{className:"input-block",children:[e.jsx("input",{onChange:r,type:"password",name:"currentPassword",id:"input-text",required:!0}),e.jsx("span",{className:"placeholder",children:"Current password:"})]}),e.jsxs("div",{className:"input-block",children:[e.jsx("input",{onChange:r,type:"password",name:"newPassword",id:"input-text",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{5,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 5 or more characters",required:!0}),e.jsx("span",{className:"placeholder",children:"New password:"})]}),e.jsxs("div",{className:"input-block",children:[e.jsx("input",{onChange:r,type:"password",name:"passwordConfirm",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{5,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 5 or more characters",required:!0}),e.jsx("span",{className:"placeholder",children:"Confirm password:"})]}),e.jsx("div",{style:{width:"100%",margin:"0.5em 0"},children:e.jsx("button",{className:"submit_btn",style:{width:"92%"},children:c?e.jsx("span",{children:e.jsx(h,{size:"1.4em",className:"spinner-icon"})}):"set new password"})})]}),e.jsx("div",{style:{textAlign:"center",marginTop:".5em"},children:e.jsx(x,{to:"/account/overview",style:{color:"gray"},children:e.jsx("p",{children:"Cancel"})})})]})};export{g as default};
