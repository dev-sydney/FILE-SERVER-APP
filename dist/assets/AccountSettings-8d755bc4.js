import{R as d,P as i,r,a as h,u as g,j as e,U as x,L as f}from"./index-7c942149.js";/* empty css                   */const p=o=>{const{color:c,size:l,...a}=o;return d.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 24 24",fill:c,...a},d.createElement("path",{d:"M21.73682,3.751,19.31689,1.33105a.99964.99964,0,0,0-1.41406,0L13.32275,5.91113a1.00013,1.00013,0,0,0-.293.707V9.03809a1.00005,1.00005,0,0,0,1,1H16.4502a1.00014,1.00014,0,0,0,.707-.293L21.73682,5.165A.99964.99964,0,0,0,21.73682,3.751ZM16.03613,8.03809H15.02979V7.03223l3.58007-3.58008L19.61572,4.458ZM19,11a1,1,0,0,0-1,1v2.3916l-1.48047-1.48047a2.78039,2.78039,0,0,0-3.92822,0l-.698.698L9.40723,11.123a2.777,2.777,0,0,0-3.92432,0L4,12.606V7A1.0013,1.0013,0,0,1,5,6h6a1,1,0,0,0,0-2H5A3.00328,3.00328,0,0,0,2,7V19a3.00328,3.00328,0,0,0,3,3H17a3.00328,3.00328,0,0,0,3-3V12A1,1,0,0,0,19,11ZM5,20a1.0013,1.0013,0,0,1-1-1V15.43408l2.897-2.897a.79926.79926,0,0,1,1.09619,0l3.168,3.16711c.00849.00916.0116.02179.02045.03064L15.44714,20Zm13-1a.97137.97137,0,0,1-.17877.53705l-4.51386-4.51386.698-.698a.77979.77979,0,0,1,1.1001,0L18,17.21973Z"}))};p.propTypes={color:i.string,size:i.oneOfType([i.string,i.number])};p.defaultProps={color:"currentColor",size:"24"};const y=p,w=()=>{const o=r.useContext(h),c=r.useContext(g),[l,a]=r.useState(!1);let n=r.useRef(new FormData);r.useEffect(()=>{c.setNavBarVisibilty(!0)},[]);const m=t=>{t.target.name==="photo"?n.current.set(t.target.name,t.target.files[0]):n.current.set(t.target.name,t.target.value)},u=t=>{t.preventDefault(),a(!0),fetch("/api/v1/users/account-update",{method:"PATCH",body:n.current}).then(s=>s.json()).then(s=>{if(s.status==="success")a(!1),o.setAlert(s.message,"Well done"),n.current=new FormData;else throw a(!1),n.current=new FormData,new Error(s.messsage)}).catch(s=>o.setAlert(s.message,"Something went wrong"))};return e.jsxs("div",{className:"update-profile-page",children:[e.jsx("h1",{style:{textAlign:"left",margin:"1em 1em"},children:"Edit Profile"}),e.jsxs("form",{encType:"multipart/form-data",onSubmit:u,children:[e.jsx("div",{style:{textAlign:"center"},children:e.jsxs("label",{htmlFor:"photo",className:"file__upload",style:{cursor:"pointer"},children:[e.jsx(y,{color:"#5B89CC",size:"5em",style:{padding:"0.5em",borderRadius:"50%",background:"#B3BFDA"}}),e.jsx("input",{type:"file",name:"photo",accept:"image/*",id:"photo",className:"form__upload",style:{display:"none"},onChange:m})]})}),e.jsx("p",{style:{color:"gray",margin:"0.5em 0"},children:"Choose a photo"}),e.jsx("div",{className:"input-block",children:e.jsx("input",{type:"text",className:"username__input",name:"user_name",onChange:m,placeholder:"username"})}),e.jsx("div",{className:"input-block",children:e.jsx("input",{type:"email",name:"emailAddress",id:"input-text",onChange:m,placeholder:"youremail@example.com"})}),e.jsx("div",{style:{width:"100%",margin:"0.5em 0"},children:e.jsx("button",{className:"submit_btn",style:{width:"92%"},children:l?e.jsx("span",{children:e.jsx(x,{size:"1.4em",className:"spinner-icon"})}):"save changes"})})]}),e.jsx("div",{style:{textAlign:"center",marginTop:".5em"},children:e.jsx(f,{to:"/account/overview",style:{color:"gray"},children:e.jsx("p",{children:"Cancel"})})})]})};export{w as default};
