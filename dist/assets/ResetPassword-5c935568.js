import{R as p,P as o,r as n,a as g,u as x,e as w,d as y,j as e}from"./index-7c942149.js";const c=a=>{const{color:i,size:t,...l}=a;return p.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:i,...l},p.createElement("path",{d:"M21,4.41l.71-.7a1,1,0,1,0-1.42-1.42L18.89,3.7h0L16.06,6.53h0L9.75,12.83a5,5,0,1,0,1.42,1.42l5.59-5.6,2.12,2.13a1,1,0,1,0,1.41-1.42L18.17,7.24l1.42-1.41.7.7a1,1,0,1,0,1.42-1.41ZM7,20a3,3,0,1,1,3-3A3,3,0,0,1,7,20Z"}))};c.propTypes={color:o.string,size:o.oneOfType([o.string,o.number])};c.defaultProps={color:"currentColor",size:"24"};const f=c,v=()=>{const a=n.useContext(g),i=n.useContext(x),[t,l]=n.useState({});n.useEffect(()=>{i.setNavBarVisibilty(!1)},[]);const{resetToken:u}=w(),d=y(),m=r=>{l({...t,[r.target.name]:r.target.value})},h=r=>{r.preventDefault(),fetch(`/api/v1/users/reset-password/${u}`,{method:"PATCH",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then(s=>s.json()).then(s=>{if(s.status==="success")a.setAlert(s.message,"Awesome"),setTimeout(()=>{d("/login")},2e3);else throw new Error(s.message)}).catch(s=>a.setAlert(s.message,"Something went wrong"))};return e.jsx("div",{className:"auth-page",children:e.jsxs("form",{className:"auth__form",onSubmit:h,children:[e.jsx(f,{color:"#121927",size:"3em"}),e.jsx("h2",{style:{margin:"0.7em 0"},children:"Reset your password!"}),e.jsx("p",{style:{margin:"0.7em 0"},children:"Enter your new password to login into your account"}),e.jsxs("div",{className:"input-block",children:[e.jsx("input",{name:"password",onChange:m,type:"password",required:!0}),e.jsx("span",{className:"placeholder",children:"Password: "})]}),e.jsxs("div",{className:"input-block",children:[e.jsx("input",{name:"password_confirm",onChange:m,type:"password",required:!0}),e.jsx("span",{className:"placeholder",children:"Confirm password: "})]}),e.jsx("div",{style:{textAlign:"center",marginTop:"1em"},children:e.jsx("input",{className:"auth-submit submit_btn",type:"submit",value:"DONE"})})]})})};export{v as default};
