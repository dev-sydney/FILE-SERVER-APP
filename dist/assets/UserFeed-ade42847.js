import{j as e,P as l,r as t,a as j,u as v}from"./index-7c942149.js";import{U as k,F as _,C as N,a as g}from"./FilePreviewPane-11c12171.js";import{M as C}from"./ModalBackground-df2d4cc2.js";import"./getFileIcon-1a95df9b.js";import"./SkeletonClientItem-88da2db1.js";import"./uil-info-circle-af476e08.js";const y=()=>e.jsxs("div",{className:"feed_item",children:[e.jsxs("div",{style:{textAlign:"right"},className:"flex_1",children:[e.jsx("div",{className:"skeleton-icon file_icon skeleton"}),e.jsx("div",{className:"skeleton-icon file_icon skeleton"})]}),e.jsx("div",{className:"flex_2",children:e.jsx("div",{className:"skeleton-icon file_icon skeleton skeleton-file-type"})}),e.jsxs("div",{className:"file_details flex_3",children:[e.jsx("div",{className:"skeleton-title skeleton"}),e.jsx("div",{className:"file_description skeleton-file-description skeleton"}),e.jsx("div",{className:"file_description skeleton-file-description skeleton"}),e.jsx("div",{className:"file_description skeleton-file-description skeleton"})]})]}),u=({setIsModalActive:f,setFileNames:n,fileNames:a,setIsCheckBoxActive:o,isCheckBoxActive:c,setIsPreviewPaneActive:r,setSelectedPreviewFile:m})=>{const x=t.useContext(j),[i,h]=t.useState(null),[d,p]=t.useState(null);return t.useEffect(()=>{p(!0),fetch("/api/v1/files/?fields=title,file_description,file_id,file_type,file_name,created_at&file_status=1&sort=created_at:desc").then(s=>s.json()).then(s=>{if(s.status==="success")h(s.files),p(!1);else throw new Error(s.message)}).catch(s=>x.setAlert(s.message,"Oops, something went wrong"))},[]),e.jsxs("div",{className:"feed_container",children:[e.jsx("h2",{style:{textAlign:"left",marginLeft:"0.5em"},children:"For You"}),e.jsx("span",{style:{minHeight:"2.6em"},children:e.jsxs("span",{className:"share_cancel",children:[a.length>0&&e.jsxs("button",{onClick:()=>{f(!0)},className:"share_btn",children:[e.jsx(k,{size:"1.5em",color:"white"}),e.jsx("span",{style:{marginLeft:"0.4em"},children:"Share"})]}),c&&e.jsx("button",{onClick:()=>{n([]),o(!1)},className:"cancel-share-btn",children:e.jsx("span",{children:"Cancel"})})]})}),d?[1,2,3,4,5,6].map(s=>e.jsx(y,{},s)):(i==null?void 0:i.length)===0?e.jsx("p",{children:"Sorry , there are no files available for you yet"}):i==null?void 0:i.map(s=>e.jsx(_,{setFileNames:n,file:s,setIsCheckBoxActive:o,isCheckBoxActive:c,fileNames:a,setIsPreviewPaneActive:r,setSelectedPreviewFile:m},s.file_id))]})};u.propTypes={fileNames:l.any,isCheckBoxActive:l.bool,setIsCheckBoxActive:l.func,setIsModalActive:l.func,setIsPreviewPaneActive:l.func,setFileNames:l.func,setSelectedPreviewFile:l.func};const I=()=>{const[f,n]=t.useState(!1),[a,o]=t.useState([]),[c,r]=t.useState(!1),m=t.useContext(v),[x,i]=t.useState(!1),[h,d]=t.useState(null);return t.useEffect(()=>{m.setNavBarVisibilty(!0)},[]),e.jsxs("div",{className:"feed-page",style:{background:"#F6F7FB"},children:[f&&e.jsx(C,{modalChild:e.jsx(N,{setIsModalActive:n,fileNames:a.join(","),setFileNames:o,setIsCheckBoxActive:r})}),e.jsx(u,{setFileNames:o,fileNames:a,setIsModalActive:n,setIsCheckBoxActive:r,isCheckBoxActive:c,setIsPreviewPaneActive:i,setSelectedPreviewFile:d}),e.jsx(g,{isPreviewPaneActive:x,setIsPreviewPaneActive:i,file:h,setSelectedPreviewFile:d})]})};export{I as default};
